(this.webpackJsonpsecdash1=this.webpackJsonpsecdash1||[]).push([[9],{205:function(e,a,t){"use strict";t.r(a);var s=t(26),r=t(60),n=t.n(r),c=t(61),l=t(9),o=t(10),i=t(25),m=t(12),u=t(11),h=t(0),d=t.n(h),p=t(202),b=t(67),E=(t(116),t(22)),v=t(71),g=function(e){Object(m.a)(t,e);var a=Object(u.a)(t);function t(){var e;return Object(l.a)(this,t),(e=a.call(this)).state={username:"",password:"",error:!1,msgError:""},e.handleLogin=e.handleLogin.bind(Object(i.a)(e)),e.handleChange=e.handleChange.bind(Object(i.a)(e)),e}return Object(o.a)(t,[{key:"handleLogin",value:function(){var e=Object(c.a)(n.a.mark((function e(a){var t,s;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""!==this.state.username&&void 0!==this.state.username&&""!==this.state.password&&void 0!==this.state.password){e.next=4;break}return this.setState({error:!0,msgError:"Campos n\xe3o devem estar vazios"}),e.abrupt("return",0);case 4:return t={username:this.state.username,password:this.state.password},e.prev=5,e.next=8,b.a.post("users/token/obtain/",t);case 8:401===(s=e.sent).status?this.setState({error:!0,msgError:"Login n\xe3o efetuado, verifique seu usu\xe1rio ou senha"}):(b.a.defaults.headers.Authorization="JWT "+s.data.access,localStorage.setItem("access_token",s.data.access),localStorage.setItem("refresh_token",s.data.refresh),localStorage.setItem("username",s.data.username),this.setState({error:!1,msgError:""}),this.props.history.push({pathname:"/dashboard",state:{username:s.data.username}})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),this.setState({error:!0,msgError:"Login n\xe3o efetuado, verifique seu usu\xe1rio ou senha"});case 15:case"end":return e.stop()}}),e,this,[[5,12]])})));return function(a){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e,a){this.setState(Object(s.a)({},e,a.target.value))}},{key:"render",value:function(){return d.a.createElement(E.a,null,d.a.createElement(v.a,null),d.a.createElement("div",{className:"auth-wrapper"},d.a.createElement("div",{className:"auth-content"},d.a.createElement("div",{className:"auth-bg"},d.a.createElement("span",{className:"r"}),d.a.createElement("span",{className:"r s"}),d.a.createElement("span",{className:"r s"}),d.a.createElement("span",{className:"r"})),d.a.createElement("div",{className:"card"},d.a.createElement("div",{className:"card-body text-center"},d.a.createElement("div",{className:"mb-4"},d.a.createElement("i",{className:"feather icon-unlock auth-icon"})),d.a.createElement("h3",{className:"mb-4"},"Login"),d.a.createElement("div",{className:"input-group mb-3"},d.a.createElement("input",{type:"email",className:"form-control",value:this.state.username,onChange:this.handleChange.bind(this,"username"),placeholder:"Usu\xe1rio"})),d.a.createElement("div",{className:"input-group mb-4"},d.a.createElement("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.handleChange.bind(this,"password"),placeholder:"senha"})),d.a.createElement("div",{className:"form-group text-left"},d.a.createElement("div",{className:"checkbox checkbox-fill d-inline"},d.a.createElement("input",{type:"checkbox",name:"checkbox-fill-1",id:"checkbox-fill-a1"}),d.a.createElement("label",{htmlFor:"checkbox-fill-a1",className:"cr"}," Salvar credenciais"))),d.a.createElement("button",{className:"btn btn-primary shadow-2 mb-4",onClick:this.handleLogin},"Login"),this.state.error?d.a.createElement("div",{style:{marginBottom:10,color:"red"}},d.a.createElement("span",null,this.state.msgError)):d.a.createElement("div",null),d.a.createElement("p",{className:"mb-2 text-muted"},"Esqueceu sua senha ? ",d.a.createElement(p.a,{to:"/auth/reset-password-1"},"Resetar")),d.a.createElement("p",{className:"mb-0 text-muted"},"N\xe3o possui conta ? ",d.a.createElement(p.a,{to:"/auth/signup"},"Cadastrar")))))))}}]),t}(d.a.Component);a.default=g}}]);
//# sourceMappingURL=9.bab40c72.chunk.js.map