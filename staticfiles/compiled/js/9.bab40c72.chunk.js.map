{"version":3,"sources":["Demo/Authentication/SignIn/SignIn1.js"],"names":["SignUp1","state","username","password","error","msgError","handleLogin","bind","handleChange","e","preventDefault","this","undefined","setState","payload","api","post","response","status","defaults","headers","data","access","localStorage","setItem","refresh","props","history","push","pathname","input","target","value","className","type","onChange","placeholder","name","id","htmlFor","onClick","style","marginBottom","color","to","React","Component"],"mappings":"mPAWMA,E,kDAEF,aAAgB,IAAD,8BACX,gBACKC,MAAQ,CACTC,SAAU,GACVC,SAAU,GACVC,OAAO,EACPC,SAAU,IAEd,EAAKC,YAAc,EAAKA,YAAYC,KAAjB,gBACnB,EAAKC,aAAe,EAAKA,aAAaD,KAAlB,gBATT,E,iGAYGE,G,4EACdA,EAAEC,iBAE2B,KAAxBC,KAAKV,MAAMC,eAA2CU,IAAxBD,KAAKV,MAAMC,UAClB,KAAxBS,KAAKV,MAAME,eAA2CS,IAAxBD,KAAKV,MAAME,S,uBAEzCQ,KAAKE,SAAS,CACVT,OAAO,EACPC,SAAU,qC,kBAGP,G,cAGPS,EAAU,CACVZ,SAAUS,KAAKV,MAAMC,SACrBC,SAAUQ,KAAKV,MAAME,U,kBAKEY,IAAIC,KAAK,sBAAuBF,G,OAE/B,OAFlBG,E,QAEOC,OACTP,KAAKE,SAAS,CACVT,OAAO,EACPC,SAAU,8DAIdU,IAAII,SAASC,QAAb,cAAwC,OAASH,EAASI,KAAKC,OAC/DC,aAAaC,QAAQ,eAAgBP,EAASI,KAAKC,QACnDC,aAAaC,QAAQ,gBAAiBP,EAASI,KAAKI,SACpDF,aAAaC,QAAQ,WAAYP,EAASI,KAAKnB,UAE/CS,KAAKE,SAAS,CACVT,OAAO,EACPC,SAAU,KAGdM,KAAKe,MAAMC,QAAQC,KAAK,CACpBC,SAAU,aACV5B,MAAO,CAAEC,SAAUe,EAASI,KAAKnB,a,kDAKzCS,KAAKE,SAAS,CACVT,OAAO,EACPC,SAAU,6D,oJAKTyB,EAAOrB,GAChBE,KAAKE,SAAL,eAAgBiB,EAAQrB,EAAEsB,OAAOC,U,+BAIjC,OACI,kBAAC,IAAD,KACI,kBAAC,IAAD,MACA,yBAAKC,UAAU,gBACX,yBAAKA,UAAU,gBACX,yBAAKA,UAAU,WACX,0BAAMA,UAAU,MAChB,0BAAMA,UAAU,QAChB,0BAAMA,UAAU,QAChB,0BAAMA,UAAU,OAEpB,yBAAKA,UAAU,QACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,QACX,uBAAGA,UAAU,mCAEjB,wBAAIA,UAAU,QAAd,SACA,yBAAKA,UAAU,oBACX,2BAAOC,KAAK,QAAQD,UAAU,eAAeD,MAAOrB,KAAKV,MAAMC,SACvDiC,SAAUxB,KAAKH,aAAaD,KAAKI,KAAM,YAAayB,YAAY,gBAE5E,yBAAKH,UAAU,oBACX,2BAAOC,KAAK,WAAWD,UAAU,eAAeD,MAAOrB,KAAKV,MAAME,SAC1DgC,SAAUxB,KAAKH,aAAaD,KAAKI,KAAM,YAAayB,YAAY,WAE5E,yBAAKH,UAAU,wBACX,yBAAKA,UAAU,mCACX,2BAAOC,KAAK,WAAWG,KAAK,kBAAkBC,GAAG,qBAC7C,2BAAOC,QAAQ,mBAAmBN,UAAU,MAA5C,yBAGZ,4BAAQA,UAAU,gCAAgCO,QAAS7B,KAAKL,aAAhE,SAEEK,KAAKV,MAAMG,MACT,yBAAKqC,MAAO,CAACC,aAAc,GAAIC,MAAO,QAClC,8BAAOhC,KAAKV,MAAMI,WAEpB,8BAIN,uBAAG4B,UAAU,mBAAb,wBAAoD,kBAAC,IAAD,CAASW,GAAG,0BAAZ,YACpD,uBAAGX,UAAU,mBAAb,yBAAkD,kBAAC,IAAD,CAASW,GAAG,gBAAZ,uB,GAnH5DC,IAAMC,WA6Hb9C","file":"js/9.bab40c72.chunk.js","sourcesContent":["import React from 'react';\r\nimport {NavLink} from 'react-router-dom';\r\n\r\nimport api from '../../../services/api'\r\n// import axios from 'axios'\r\n\r\nimport './../../../assets/scss/style.scss';\r\nimport Aux from \"../../../hoc/_Aux\";\r\nimport Breadcrumb from \"../../../App/layout/AdminLayout/Breadcrumb\";\r\n\r\n\r\nclass SignUp1 extends React.Component {\r\n\r\n    constructor () {\r\n        super();\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            error: false,\r\n            msgError: \"\"\r\n        }\r\n        this.handleLogin = this.handleLogin.bind(this);\r\n        this.handleChange = this.handleChange.bind(this);\r\n    }\r\n\r\n    async handleLogin(e) {\r\n        e.preventDefault();\r\n\r\n        if ( this.state.username === '' || this.state.username === undefined || \r\n            this.state.password === '' || this.state.password === undefined ) {\r\n \r\n            this.setState({\r\n                error: true, \r\n                msgError: 'Campos não devem estar vazios' \r\n            })\r\n            \r\n            return 0\r\n        }\r\n\r\n        let payload = {\r\n            username: this.state.username,\r\n            password: this.state.password\r\n        }\r\n\r\n\r\n        try {\r\n            const response = await api.post(\"users/token/obtain/\", payload);\r\n\r\n            if (response.status === 401) {\r\n                this.setState({ \r\n                    error: true, \r\n                    msgError: 'Login não efetuado, verifique seu usuário ou senha' \r\n                });\r\n            \r\n            } else {\r\n                api.defaults.headers['Authorization'] = \"JWT \" + response.data.access;\r\n                localStorage.setItem('access_token', response.data.access);\r\n                localStorage.setItem('refresh_token', response.data.refresh);\r\n                localStorage.setItem('username', response.data.username);\r\n                \r\n                this.setState({ \r\n                    error: false, \r\n                    msgError: '' \r\n                });\r\n                \r\n                this.props.history.push({\r\n                    pathname: '/dashboard',\r\n                    state: { username: response.data.username }\r\n                });\r\n            }\r\n                      \r\n        } catch (err) {\r\n            this.setState({ \r\n                error: true, \r\n                msgError: 'Login não efetuado, verifique seu usuário ou senha' \r\n            });\r\n        }\r\n    };\r\n\r\n    handleChange(input, e){\r\n        this.setState({[input]: e.target.value})\r\n    } \r\n\r\n    render () {\r\n        return(\r\n            <Aux>\r\n                <Breadcrumb/>\r\n                <div className=\"auth-wrapper\">\r\n                    <div className=\"auth-content\">\r\n                        <div className=\"auth-bg\">\r\n                            <span className=\"r\"/>\r\n                            <span className=\"r s\"/>\r\n                            <span className=\"r s\"/>\r\n                            <span className=\"r\"/>\r\n                        </div>\r\n                        <div className=\"card\">\r\n                            <div className=\"card-body text-center\">\r\n                                <div className=\"mb-4\">\r\n                                    <i className=\"feather icon-unlock auth-icon\"/>\r\n                                </div>\r\n                                <h3 className=\"mb-4\">Login</h3>\r\n                                <div className=\"input-group mb-3\">\r\n                                    <input type=\"email\" className=\"form-control\" value={this.state.username} \r\n                                            onChange={this.handleChange.bind(this, 'username')} placeholder=\"Usuário\"/>\r\n                                </div>\r\n                                <div className=\"input-group mb-4\">\r\n                                    <input type=\"password\" className=\"form-control\" value={this.state.password} \r\n                                            onChange={this.handleChange.bind(this, 'password')} placeholder=\"senha\"/>\r\n                                </div>\r\n                                <div className=\"form-group text-left\">\r\n                                    <div className=\"checkbox checkbox-fill d-inline\">\r\n                                        <input type=\"checkbox\" name=\"checkbox-fill-1\" id=\"checkbox-fill-a1\" />\r\n                                            <label htmlFor=\"checkbox-fill-a1\" className=\"cr\"> Salvar credenciais</label>\r\n                                    </div>\r\n                                </div>\r\n                                <button className=\"btn btn-primary shadow-2 mb-4\" onClick={this.handleLogin}>Login</button>\r\n\r\n                                { this.state.error ? \r\n                                    <div style={{marginBottom: 10, color: 'red'}}>\r\n                                        <span>{this.state.msgError}</span>\r\n                                    </div>\r\n                                    : <div></div>\r\n\r\n                                }  \r\n\r\n                                <p className=\"mb-2 text-muted\">Esqueceu sua senha ? <NavLink to=\"/auth/reset-password-1\">Resetar</NavLink></p>\r\n                                <p className=\"mb-0 text-muted\">Não possui conta ? <NavLink to=\"/auth/signup\">Cadastrar</NavLink></p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Aux>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SignUp1;"],"sourceRoot":""}